import { ImageResponse } from 'next/og'

// Image metadata
export const size = {
  width: 32,
  height: 32,
}
export const contentType = 'image/png'

// SVG inlined from public/logos/procedure/red-logo-short.svg
const logoSvg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 81.5 36.48"><circle cx="74.75" cy="24.9" r="6.75" fill="#ac3939"/><path fill="#fff" d="m0,36.48V.6h5.71l.7,3.56c.8-1.1,1.86-2.07,3.18-2.91C10.92.42,12.63,0,14.73,0,17.07,0,19.16.57,21,1.71c1.84,1.14,3.29,2.69,4.36,4.66,1.07,1.97,1.6,4.21,1.6,6.71s-.53,4.74-1.6,6.69-2.52,3.49-4.36,4.61c-1.84,1.12-3.93,1.68-6.26,1.68-1.87,0-3.51-.35-4.91-1.05-1.4-.7-2.54-1.69-3.41-2.96v14.43H0Zm13.38-16.04c2.04,0,3.72-.68,5.06-2.05,1.34-1.37,2-3.14,2-5.31s-.67-3.96-2-5.36c-1.34-1.4-3.03-2.1-5.06-2.1s-3.77.69-5.09,2.08c-1.32,1.39-1.98,3.17-1.98,5.34s.66,3.95,1.98,5.34c1.32,1.39,3.01,2.08,5.09,2.08Z"/><path fill="#fff" d="m28.91,25.46V.6h5.71l.6,4.66c.9-1.6,2.13-2.88,3.68-3.83C40.47.48,42.29,0,44.4,0v6.76h-1.8c-1.4,0-2.66.22-3.76.65-1.1.44-1.96,1.19-2.58,2.25-.62,1.07-.93,2.56-.93,4.46v11.32h-6.41Z"/><path fill="#fff" d="m56.48,26.06c-2.4,0-4.57-.55-6.49-1.65-1.92-1.1-3.44-2.63-4.56-4.59-1.12-1.95-1.68-4.22-1.68-6.79s.57-4.84,1.7-6.79c1.13-1.95,2.67-3.48,4.59-4.59,1.92-1.1,4.08-1.65,6.49-1.65s4.52.55,6.44,1.65c1.92,1.1,3.44,2.63,4.56,4.59,1.12,1.95,1.68,4.22,1.68,6.79s-.56,4.84-1.68,6.79c-1.12,1.95-2.65,3.48-4.59,4.59-1.94,1.1-4.09,1.65-6.46,1.65h0Zm0-5.56c1.67,0,3.12-.63,4.36-1.88,1.24-1.25,1.85-3.12,1.85-5.59s-.62-4.33-1.85-5.59c-1.24-1.25-2.67-1.88-4.31-1.88s-3.17.63-4.38,1.88c-1.22,1.25-1.83,3.12-1.83,5.59s.61,4.33,1.83,5.59c1.22,1.25,2.67,1.88,4.33,1.88Z"/></svg>`

// Image generation
export default function Icon() {
  const svgDataUrl = `data:image/svg+xml,${encodeURIComponent(logoSvg)}`

  return new ImageResponse(
    (
      <div
        style={{
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          background: 'black',
        }}
      >
        <img
          src={svgDataUrl}
          style={{
            width: '100%',
            height: 'auto',
          }}
        />
      </div>
    ),
    {
      ...size,
    }
  )
}
